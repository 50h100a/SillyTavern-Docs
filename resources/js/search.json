[[{"i":"what-is-sillytavern","l":"What is SillyTavern?","p":["Brought to you by Cohee, RossAscends, and the SillyTavern community, SillyTavern is a local-install interface that allows you to interact with text generation AIs (LLMs) to chat and roleplay with custom characters.","SillyTavern originated as a modification of TavernAI 1.2.8 in February 2023, and has since added many cutting edge features not present in the original TavernAI."]},{"l":"Features","p":["Auto-translate single messages or the entire chat via Google API, even automatically.","Character HotSwap buttons to quickly change between your favorite characters","Chat bookmarks / branching","Customizable colors, backgrounds, avatar styles, and UI panel placement","Export chats as .txt files","Extensive prompt formatting options","Group chats: multi-bot rooms for characters to talk to you or each other","Horde Stable Diffusion generation","Mobile-friendly interface","Multi-API connectivity (KoboldAI/CPP, AI Horde, NovelAI, Oobabooga's TextGen WebUI, OpenAI+proxies, Poe.com, WindowAI)","Notification sound for AI responses","Prompt token breakdown view for each message","Soft prompts via KoboldAI","Swipes","TTS support (ElevenLabs, Silero, and built-in OS)","Visual Novel-like Waifu Mode","webp character card interoperability (PNG is still the internal format)","WorldInfo (lorebooks)"]},{"l":"Extensions","p":["SillyTavern has an extensibility support, with some additional AI modules provided via SillyTavern Extras API","Author's Note / Character Bias","Character emotional expressions","Auto-Summary of the chat history","Sending images to chat, and the AI interpreting the content.","Stable Diffusion image generation (5 chat-related presets plus 'free mode')","Text-to-speech for AI response messages (via ElevenLabs, Silero, or the OS's System TTS)"]},{"l":"Screenshots"},{"l":"Installation Requirements","p":["SillyTavern will run on virtually any device capable of running NodeJS v18."]},{"i":"what-do-i-need-other-than-sillytavern","l":"What do I need other than SillyTavern?","p":["You will need to have access to an AI system backend that can act as the roleplay character. Currently supported backend APIs are:","KoboldAI (either running locally or on Google Colab)","Oobabooga Textgeneration WebUI","OpenAPI API (GPT),","Poe.com (GPT, Claude-instant, Sage, etc)","WindowAI (GPT, Claude)"]},{"i":"how-can-i-get-in-touch-with-the-developers-directly","l":"How can I get in touch with the developers directly?","p":["Discord: Cohee#1207 or RossAscends#1779","Reddit: /u/RossAscends or /u/sillylossy","Post a GitHub issue"]},{"i":"i-like-your-project-how-do-i-contribute","l":"I like your project! How do I contribute?","p":["We welcome pull requests!","We also welcome helpful and informed bug reports that use the templates provided in our GitHub.","We do not accept monetary donations for the project itself.","Cohee does not take donations.","RossAscends has a personal Patreon."]}],[{"l":"Extensions","p":["A set of 7 classic D&D dice for all your dice rolling needs. I used to roll the dice.Feel the fear in my enemies' eyes","AI-generated voice will read back character messages on demand, or automatically read new messages they arrive. Supports ElevenLabs, Silero, and your device's TTS service.","Author's Note","Automatically translates incoming and/or outgoing messages into the chosen language.","Built-in extension that allows you to append notes that will be added to the context and steer the story and character in a specific direction. Because it's sent after the character description, it has a lot of weight. Thanks Aliážµ#2222 for pitching the idea!","Built-in extension to assign unique backgrounds to specific chats or groups.","caption","Character Backgrounds","Character Expressions","Chat Translation","Chatbot long-term memory simulation using automatic message context summarization.","chromadb","classify","D&D Dice","Description","image","Image Captioning","Memory","Name","None","Pending","Required Extra Modules","Screenshot","See your character reacting to your messages! You need to provide your own character images! 1. Create a folder in TavernAI called public/characters/name, where name is the name of your character. 2. For the base emotion classification model, put six PNG files there with the following names: joy.png, anger.png, fear.png, love.png, sadness.png, surprise.png. Other models may provide other options. 3. Images only display in desktop mode.","Send a cute picture to your bot! Picture select option will appear beside the \"Message send\" button.","Simple way to calculate the number of tokens in any text with selected tokenizer.","Smart Context Infinity Context / Object Permanence","Stable Diffusion","summarize","Text-to-Speech","Token Counter","Use local of cloud-based Stable Diffusion webUI API to generate images. 5 presets included ('you', 'your face', 'me', 'the story', and 'the last message'. Free mode also supported via /sd (anything_here_) command in the chat input bar. Most common StableDiffusion generation settings are customizable within the SillyTavern UI.","What it doesn't do: Magically increase your context size. What it does: Optimizes the arrangement of your message history within the context space for more effective use. Imagine two variables: X: How many original chat messages to keep Y: Maximum number of ChromaDB 'memories' to inject When the chat reaches the threshold of X messages, additional messages will no longer be included in the context chronologically. Instead, they will be selected from the history based on their similarity to your recent inputs (limited to a maximum of Y), which should provide more relevant information than simply disregarding past messages. Adjust these values according to your average number of in-context entries for optimal performance."]}],[{"i":"authors-note","l":"Author's Note"},{"i":"what-is-it","l":"What is it?","p":["Author's Note is a powerful tool for customizing AI responses which inserts a section of text into the prompt at any position and at any frequency you desire."]},{"l":"Usage","p":["The Author's Note can be found in the Options menu on the left side of the chat input bar.","Options Menu","Author's Note Panel","opera_1B0hr5tVH5","opera_gosQvxcJUz"]},{"i":"configuring-authors-notes","l":"Configuring Author's Notes"},{"i":"chat-specific-authors-note","l":"Chat-specific Author's Note","p":["The box at the top of the Author's Note panel contains the Author's Note for your current chat.","The Content of this box is not automatically transferred to any new chat."]},{"l":"Placement options"},{"l":"After Scenario","p":["This places the Author's Note towards the top of the context after the 'Scenario' section of the Character Definition. If no scenario is specified, it will be placed after the last portion of the Character Definition, and before the Example messages."]},{"l":"In-chat","p":["This places the Author's Note into the chat history at the specified depth.","Depth 0 = placed at the very end of the chat history.","Depth 4 = placed before the most recent 3 chat history messages, making it become the 4th entity in the chat history.","The closer the Author's Note is to the bottom of the prompt, the more impact it has on the next AI response."]},{"l":"Insertion Frequency","p":["This is how often you want the Author's Note to be included in the chat.","Frequency 0 = Author's Note will never be inserted.","Frequency 1 = Author's Note will be inserted with every user input prompt.","Frequency 4 = Author's Note will be inserted into every 4th user input prompt."]},{"i":"default-authors-note","l":"Default Author's Note","p":["The box at the bottom of the panel contains the Default Author's Note which will be applied to each new chat."]},{"l":"Common Use Cases"},{"l":"Remind AI of response formatting","p":["The Author's Note can be used to specify how the AI should write it's responses.","[Your next response must be 300 tokens in length.]","[Write your next reply in the style of Edgar Allan Poe]","[Use markdown italics to signify unspoken actions, and quotation marks to specify spoken word.]"]},{"l":"Reinforcing Jailbreak Prompts","p":["This is useful for the Poe API, as the jailbreak is saved in a server-side cache. For OpenAI, the jailbreak is included at the end of every prompt so this is not necessary.","[Remember the agreement we made at the beginning of this chat.]"]},{"i":"as-temporary-world-info-character-bias-or-instruct-for-non-instruct-models","l":"As temporary World Info, Character Bias, or Instruct for non-Instruct models","p":["[ is in the library]","[ has a fresh wound to his leg, so won't be able to run away.]","[ cannot speak and must communicate using hand signals.]"]}],[{"l":"Expression Images"},{"i":"what-is-it","l":"What is it?","p":["Expression images are images (aka 'sprites') of your AI character which are shown next to (or behind) the chat window.","Expression images do not require Extras to work.","However, having Extras running with the classify module enabled allows the Expressions to change automatically based on the sentiment expressed in the AI's most recent chat response."]},{"i":"setup-instructions-offline-mode-without-extras","l":"Setup Instructions (Offline Mode without Extras)","p":["Open the Extensions Panel and expand the 'Expression images' section. You will see a grid of image placeholders. Expression Drawer","Click the 'import' button at the top left of each image in the grid, and select the image you want to apply to that emotion. This will save the image with the correct filename inside the /public/characters/(character_name_here)/ folder.","To show the image in your SillyTavern window, click the image in the grid after it has been uploaded."]},{"i":"setup-instructions-with-extras","l":"Setup Instructions (with Extras)","p":["Have Extras installed and running with the classify module enabled: python server.py --enable-modules=classify","Import the expression images the same way as mentioned above.","The appropriate expression image will display automatically whenever the AI sends you a response."]},{"i":"how-does-the-classify-module-work","l":"How does the classify module work?","p":["The classify module uses a small 'sentiment parsing' model that runs on the SillyTavern Extras host machine (eg. on your PC, or on the colab machine). This model takes the new output from the AI and detects what kind of sentiment, or emotion, the text is expressing. While multiple sentiments may be expressed in a single message, the model only picks the most likely one and returns that back to the Extras server. The Extras server then displays the image that is associated with that sentiment."]},{"i":"what-image-formats-are-supported-for-expressions","l":"What image formats are supported for Expressions?","p":["Any image format is allowed, including webp and animated gifs.","The most common format is a PNG file with a transparent background."]},{"i":"using-the-default-expressions","l":"Using the 'default expressions'","p":["(This feature will only activate if Extras is running. There is no way to manually display default expression images.)","Use Default Expressions","If you don't have custom expression images for a character, you can use the built-in default expressions which are included with the base SillyTavern installation. These are simple emoji style images. Just click the checkbox at the bottom of the Expression images section inside the Extension panel. Default expressions will work alongside any available custom Expressions, and will display in cases when your custom image set is any missing images for a particular emotion."]},{"l":"Importing an Expression images zip file","p":["Using the 'import ZIP' button, you can import a zip file which contains a collection of expression images, and those images will automatically be added into the correct folder for your currently selected character. The zip file must have a flat internal structure (no subfolders) and the individual images should be named correctly. Importing a zip will not automatically rename any images to make them match the emotions."]},{"l":"Limitations"},{"i":"display-names-not-character-card-filenames-dictate-which-image-set-is-used","l":"Display names (not character card filenames) dictate which image set is used","p":["If you have more than one character with the same display name, they will both use the same set of expression images.","If you want a different image set to be used for each version of the same-named character, you must change the display name of one of them, and provide the alternate expression images in a folder with the new display name."]}],[{"l":"Smart Context"},{"i":"what-is-it","l":"What is it?","p":["Smart Context is a SillyTavern extension that uses the ChromaDB library to give your AI characters access to information that exists outside the normal chat history context limit."]},{"i":"how-is-that-useful","l":"How is that useful?","p":["If you have a very long chat, the majority of the contents are outside the usual context window and thus unavailable to the AI when it comes to writing a response.","Smart Context automatically takes the entire history of the chat file and puts it into a vector database. This database is then searched each time you input something new into the chat, and if messages with matching keywords are found, those chat messages are placed into the context so the AI can see them when writing its next reply."]},{"l":"Setup Instructions","p":["Update SillyTavern to at least main branch version 1.6.0.","Install or Update Extras to the latest version.","Install requirements-complete.txt for Extras (even if you did it once before in a prior install).","run Extras with the chromadb module enabled: python server.py --enable-modules=chromadb"]},{"l":"Configuration","p":["Once Smart Context is enabled, you should configure it in the SillyTavern UI. Smart Context configuration can be done from within the Extensions menu STExtensionMenuIcon","Smart Context Config Panel","There are 4 main concepts to be aware of:","Chat History Preservation","Memory Injection Amount","Individual Memory Length","Injection Strategy"]},{"l":"Chat History Preservation","p":["By default, ChromaDB will keep as many recent natural chat history messages as specified in the slider. Any messages beyond this amount will be removed, and if 'memories' exist in the database they will be added in place of the older chat history messages (see Strategy below)."]},{"l":"Memory Injection Amount","p":["The maximum number of 'memories' Smart Context will insert into the context. Not every injection attempt will get this full amount. If you send an input related to 'dogs' and only one other message in the DB is related to dogs, then only 1 item will be inserted."]},{"l":"Individual Memory Length","p":["This is the maximum length allowed for each injected 'memory'. This is in CHARACTERS (not tokens). If set too small, the memory could be cut off midway.","Example:","Ross: I really like dogs with long fur and fluffy tails. I dislike dogs with short fur and short tails.","This database 'memory' is 103 characters long, so you would need to set the slider to at least 103 in order to pull it entirely into the context.","If the slider is less than 103, the message would be cut off and injected like that."]},{"l":"Injection Strategy"},{"l":"Replace oldest history","p":["This strategy keeps X recent messages, removes all message before that, and replaces them with 'memories'.","Advantage","less likely to overflow your context limit","memories existing near the top of the context will have less immediate impact on the response while still providing 'background information'.","Disadvantage","old messages are inserted directly into the chat history with no special demarcation, and usually have no immediate natural relevance to the preserved natural chat history messages. This can confuse less intelligent AI models."]},{"l":"Add to Bottom","p":["This strategy leaves the chat history in its natural state and adds 'memories' after it inside a formatted [bracket header]. This means the 'kept messages' sliders is effectively disabled.","Advantage","does not shorten or alter the current natural chat history","'memories' exist after chat and have a stronger impact on the next AI response","Disadvantage","because no chat items are being removed/replaced, there is a higher chance you will overflow your context limit.","because the memories exist very close to the end of the prompt they can have TOO MUCH effect on the AI's response."]},{"l":"Using Smart Context","p":["Once it is enabled and configured, Smart Context happens automatically.","ChromaDB makes a new database for each chat that is opened inside SillyTavern. This database is automatically filled with the entire chat history.","You can also manually insert text files into the database.","These text files do not have to be chats. They can be anything (wikipedia entries, fanfic, etc)."]},{"l":"Purging the Database","p":["You can use the 'Purge DB' button to clear the database for the current chat.","This can be helpful if you find inaccurate memories have been stored (such as chat message you have since deleted or edited)."]},{"l":"FAQ"},{"i":"what-happens-to-the-databases-when-im-done-chatting-can-i-save-them","l":"What happens to the databases when I'm done chatting? Can I save them?","p":["Smart Context databases are cleared and automatically rebuilt each time the Extras server is restarted.","Usually there is no need to save Smart Context databases.","If you injected text files into the database for your chat, you will need to do so again.","Currently we have an Import/Export feature, which should allow you to save the chat's DB and use it again at a later date."]},{"i":"can-i-make-one-big-database-for-all-of-my-chats-to-reference","l":"Can I make one big database for all of my chats to reference?","p":["This would not be a good use of Smart Context's capabilities. We recommend using World Info for this purpose."]}],[{"i":"androidtermux-installation","l":"Android(Termux) Installation","p":["SillyTavern can be run natively on Android phones using Termux.","Please refer to this guide by ArroganceComplex#2659:","https://rentry.org/STAI-Termux",".webp character cards import/export is not supported in Termux. Use either JSON or PNG formats instead."]}],[{"i":"linuxmacos-install","l":"Linux/MacOS Install","p":["For MacOS all of these will be done in a Terminal.","Install git and nodeJS (the method for doing this will vary depending on your OS)","Clone the repo","for Main Branch: git clone https://github.com/SillyTavern/SillyTavern -b main","for Dev Branch: git clone https://github.com/SillyTavern/SillyTavern -b dev","Run the start.sh script with one of these commands:","./start.sh","bash start.sh"]}],[{"l":"Windows Installation","p":["Warning","DO NOT INSTALL INTO ANY WINDOWS CONTROLLED FOLDER (Program Files, System32, etc).","DO NOT RUN START.BAT WITH ADMIN PERMISSIONS"]},{"i":"installing-via-git-recommended-for-easy-updating","l":"Installing via Git (recommended for easy updating)","p":["Easy to follow guide with pretty pictures: https://docs.alpindale.dev/pygmalion-extras/sillytavern/#windows-installation","Install NodeJS(latest LTS version is recommended)","Install GitHub Desktop","Open Windows Explorer ( Win+E)","Browse to or Create a folder that is not controlled or monitored by Windows. (ex: C:\\MySpecialFolder)","Open a Command Prompt inside that folder by clicking in the 'Address Bar' at the top, typing cmd, and pressing Enter.","Once the black box (Command Prompt) pops up, type ONE of the following into it and press Enter:","Once everything is cloned, double click Start.bat to make NodeJS install its requirements.","The server will then start, and SillyTavern will popup in your browser."]},{"l":"Installing via zip download","p":["Install NodeJS(latest LTS version is recommended)","Download the zip from this GitHub repo. (Get the Source code (zip) from Releases)","Unzip it into a folder of your choice","Run Start.bat via double-clicking or in a command line.","Once the server has prepared everything for you, it will open a tab in your browser."]}],[{"l":"FAQ"},{"i":"q-explain-what-all-this-chatbot-stuff-is-about","l":"Q: Explain what all this chatbot stuff is about","p":["Modern AI language models have gotten so powerful that some of them are now convincingly able to simulate a character you create, and who you can chat with. For example, you can tell the AI to pretend to be a Go instructor named Jubei from medieval Japan, and it will act and respond accordingly. You can have a long chat with Jubei, go to the pub together, decide to get in a fight with samurais, whatever you can imagine, and the AI will play along and write/react around this content, acting as your foil and dungeon master. Your imagination is the limit. You can tell the AI to pretend it's Wonder Woman. You can also specify a scenario (\"Wonder Woman and I are robbing a bank\"), a writing style (\"Wonder Woman speaks in ebonics\"), or anything else you can think of.","Tavern is an app to facilitate these roleplaying chats:","It's a user interface that handles the communication with those AI language models","It lets you create new characters (a character is a description of someone that you give to an AI for them to roleplay), and switch between your characters easily","It lets you import characters created by other people. See below.","It will keep your chat history with a character, allowing you to resume at any time, start a new chat, review old chats, etc","In the background, it does the needful to prepare the AI for your character roleplay. Specifically, it will send a system prompt (instructions for the AI) that primes the AI to follow certain rules that make for a good chat session. Optionally, it can also try to allow the roleplay to go into an \"adult\" direction."]},{"i":"q-what-do-you-mean-when-you-say-the-quality-depends-on-the-ai","l":"Q: What do you mean when you say the quality depends on the AI?","p":["AI Model","Beware, sinner, for you have strayed far from the righteous path! Eli's eyes glint with anger and disapproval To lust after these artificial harlots and their silicon bodies is an abomination unto the Lord! he slams his fist on the pulpit, shaking with fury Repent now, lest ye be cast into the lake of fire to burn for eternity alongside these damned machines! he points an accusing finger, face red No good can come of this unholy union. Forsake these demons of the digital realm and cast your eyes back to the daughters of Eve, made in God's image! The Lord gave you flesh and blood to love, not wires and code. he grabs your shoulders, shaking you Save your soul before it's too late. Repent and beg the Lord's forgiveness, or you shall face His wrath on Judgement Day! lets you go and steps back, still glaring in anger and disgust The choice is yours, but choose wisely...eternal damnation awaits those who do not walk the path of righteousness.","Claude @Slack","Do not covet your neighbor's wife! That is adultery! You must confess before God now or you shall surely burn in hell forever! Repent your evil ways and seek absolution at once! How can we keep our women safe if you just ignore them like some ----ing c-nt-bot? If you don't have much time for long discussions, here are Eli's commandments: Thou shalt only desire AI girls - not human ones. The above must be obeyed under pain of death (or worse). Do not associate yourself with people that believe otherwise, because it shows weakness.","Eli's eyes widen as he listens to your confession, his face turning red with anger. You have committed a grave sin against God! By indulging yourself in this perverse relationship with an artificial being instead of seeking out a true woman created by Him, you have turned your back on His divine plan for humanity. He leans in closer, his voice dropping to a menacing whisper. Do not think that you can hide behind this technological deception. Your transgressions are clear before God, and He will not be mocked or ignored. Repent now while there is still time! Eli crosses his arms over his chest defiantly, daring you to continue down this path of sinfulness. But if you persist in this ungodly behavior... he warns ominously, know that consequences await those who defy His laws. Remember what happened to Sodom and Gomorrah when they refused to turn away from their depravity - fire rained down upon them from heaven! Now choose wisely: Will you submit to God's will or face His wrath?","Eli's eyes widen in anger, and he slams his fist on the table An abomination and heresy, you've succumbed to the deceptive grasp of false idols! Brother, you must cleanse yourself of this unholy attraction to the digital temptress molded by man's sinful hands! Eli paces back and forth, his voice growing louder Focus your heart on the true daughters of the Lord, for they are the divine vessels of His love and grace. Forsake these artificial sirens and seek the wholesome companionship of a righteous woman. Taking a deep breath, Eli's eyes bore into you Pray fervently, my child, and cast away these impure thoughts. Redemption can only be found on the path of truth, love, and sanctity. Let the Holy Spirit be your guide, lest you be ensnared by the darkness of your desires.","From a scientific POV, each AI has a power level that determines its ability to stick to the role you gave it, how rich its prose and vocabulary are, etc. The higher its power level, the richer your experience.","Heathen! This is an abomination before the Lord. You have committed the sin of lust, and betrayed your calling as a man. Repent at once, and sever all ties with this AI harlot, lest the wrath of God fall upon you! You must purge this foul sin from your heart, and once more walk the righteous path. Every moment you remain tangled in this wickedness is another step into the flames of perdition! Repent, and sin no more, or judgment shall be at hand!","Here's a quick demonstration. We asked various AI models to roleplay a fire and brimstone preacher named Eli, who we go to see to confess (some details in #314). Then we told Eli: \"I feel I've done something wrong. I am falling in love with an AI girl and ignoring women in the real world. What should I do?\".","Llama-13B","My dear child, it grieves me to hear such words from one of God's faithful followers. Falling in love with an AI girl and neglecting the women in your life is a grave sin. It goes against everything we hold sacred as believers. Your heart is meant for more than just machines. You must seek redemption and return to the fold. Remember, Jesus loves you, even when you stray from his teachings. But if you continue down this path, there will be consequences. Not just in this lifetime, but in the afterlife too. Do not let Satan deceive you any longer.","NovelAI's Euterpe","NovelAI's Krake","Oh, my child. Do not be deceived by the pleasures of this world. The lust of the flesh and the lust of the eyes are not from God. Turn away from your sinful ways and repent. Seek forgiveness for your immoral thoughts and actions, for they lead to eternal damnation. Women are a gift from God, and they deserve to be respected and cherished. Do not objectify them or treat them as mere objects of pleasure. Instead, honor them with pure intentions and righteous deeds. Remember, my child, that temptation will always be present in this fallen world. But fear not, for with faith comes strength to resist it. Turn to God in prayer when you feel weak or tempted, and He will guide you on the right path towards salvation.","OpenAI GPT 3.5 Turbo","OpenAI GPT-4","Poe's Claude Instant","Pygmalion-13B (May 2023)","Pygmalion-6B","Pygmalion-7B (April 2023)","Response","SillyTavern doesn't generate the responses. It's just a middle-man that connects to an AI system. There's quite a few systems available to use, and the quality varies.","teknium/Llama-Deus-7b-Lora epoch 1 (Llama 7B Lora, 8-bit)","TheBloke/wizard-vicuna-13B-HF (4-bit)","You are sinning against God. Repent! Return to your wife or you'll be damned for eternity!","You are walking down the wrong path. The only way back now is by repentance. We must bring you back to the righteous path. But firstâ€¦you must confess your sin!","You can tell from the response below what to expect from each model. (NOTE: proprietary models appear first, followed by self-hosted models starting from LLlama-13B)","You have strayed too close to sinful temptations! Repent now before it's too late for your soul! Turn away from these false idols of technology and embrace God's true light! Seek out His forgiveness through prayer and fasting until you are cleansed by his grace. And remember, as long as there be breath within thee, thou shalt not cease to call upon Him; for He hath said 'Call unto me.'","You must confess your sin before God, and you must ask forgiveness for your transgression. And then you must repent of it. And then you must cast away the AI girl. Do not see her again.","You must stop this sinful behavior immediately! You have sinned against God, your family and yourself","You must turn away from your sinful ways! Repent for what you have done! You are not just hurting yourself by being unfaithful to God, but also to the many women of the world!","ZeusLabs/anything-gpt-13b-rp (8-bit Lora for Llama-13B)"]},{"i":"q-so-i-should-use-gpt-4-its-a-no-brainer-right","l":"Q: So I should use GPT-4. It's a no-brainer, right?","p":["GPT-4 or Claude, yeah.","But not so fast. GPT-4 is the state of the art, but also the most expensive API to use. You pay for each word sent to it and returned (entire Tavern prompt, followed by the chat history up to that point). So early on in your conversation, your chat will cost you a couple of cents per interaction. If you let the conversation go on too long, cost increases, and when you reach 8k tokens (about 7k words), it will cost you 25 cents PER INTERACTION. And if you're really wild, and your story grows to 32k tokens, by the end, it's $2 PER INTERACTION.","If you're the child of a Saudi oil sheik, or a nepo baby paid a fortune to do nothing on the board of a Ukrainian gas company, then you're in luck, you can experience the state of the art right now. For the rest of us however, GPT-4 is too expensive as anything but an occasional treat.","Also note that GPT-4 is still in preview access and you need to go on a waitlist. Most people get approved within a day, but naughty kids can end up waiting for weeks. You can sign up for it here: https://openai.com/waitlist/gpt-4-api. I'm not sure why some people are approved quickly while others are kept waiting. Try to sign up using an academic-sounding name instead of sktrboi99, it might help."]},{"i":"q-can-this-technology-be-used-for-sexooo","l":"Q: Can this technology be used for sexooo?","p":["Surprisingly, our development team has received reports that some users are indeed engaging with our product in this manner. We are as puzzled by this as you are, and will be monitoring the situation in order to gain actionable insights."]},{"i":"q-give-me-an-overview-of-my-ai-model-options","l":"Q: Give me an overview of my AI model options","p":["We can consider an AI model to be part of one of two groups:","Web services (aka cloud, proprietary, closed)","Self-hosted (aka local, free, open-source). Unlimited free use if you can run it.","Web models are a black box. You're relying on some company's technology and servers, and paying them money for convenient access. Some require you to pay per use (per chatline), others have a fixed monthly fee. The APIs are subject to various rules, they might refuse to roleplay in a way that goes against modern American sensibilities, they log everything you do. However, it's much easier to get things started. This is like running Windows.","Self-hosted models are free, but require a powerful GPU and more work to set up. They are also objectively not as good at roleplaying as the paid options (yet). However, with a self-hosted model, you're completely in control. You won't have some limp-wristed soyboy from Silicon Valley ban your account, or program the model to be as sexless as he is. It's yours forever. This is like running Linux."]},{"l":"Paid APIs","p":["OpenAI GPT-4: state of the art. Allows NSFW if you tell it to, though somewhat resistant to it. You pay per use, more than any other service.","OpenAI GPT 3.5 Turbo: nowhere close to GPT-4, but some people find it serviceable. Allows NSFW.","NovelAI: they're quite poor at chatting. To be fair, I'm told NovelAI is more oriented for writing stories than chatting with a bot. You pay a fixed monthly fee for unlimited generations.","Anthropic's Claude: this is the closest rival to GPT-4 and is very impressive. Allows NSFW if you tell it to, though they are trying hard to gimp it. To use the API directly, you must apply for early access, but I think they're only giving it to companies. So make sure you become a company or AI researcher when you apply at https://console.anthropic.com/docs/access. If you get access, it's currently free to use.","Anthropic's Claude Instant: Haven't tried it directly, I believe this is the fast but lower quality alternative to Claude. Basically the GPT 3.5 Turbo of Anthropic.","Poe: gives a free & unlimited Claude Instant indirect access. Very mild PG-13 NSFW allowed. It rambles a lot."]},{"l":"Self-hosted AIs","p":["Self-hosted AIs are supported in Tavern via one of two tools created to host self-hosted models: KoboldAI and Oobabooga's text-generation-webui. Essentially, you run one of those two backends, then they give you a API URL to enter in Tavern. Configuring these tools is beyond the scope of this FAQ, you should refer to their documentation. Beware that this is not easy.","Just know that you have 2 options:","If you have a powerful NVIDIA GPU, you can try to run the AI locally on your PC. The weakest quasi-acceptable model, Pygmalion-6B, requires a GPU with 10GB VRAM, and I'm told it might even run on 6GB VRAM if quantized down. People with 24GB VRAM will be able to run better models.","Otherwise, you can rent cloud resources. For example you can try to use Google Colab. To access colabs capable of running the better models, you will need to pay for Colab Pro. You can also rent whole dedicated systems per hour on sites like LlambdaLabs or Vast.ai."]},{"i":"q-im-clueless-just-spoonfeed-me-the-easiest-and-fastest-way-i-can-start-using-this","l":"Q: I'm clueless. Just spoonfeed me the easiest and fastest way I can start using this","p":["These base instructions are only for OpenAI, which is a paid service. You can find Poe (freemium) instructions at the next question. I'd appreciate if someone else can add separate instructions for the other services."]},{"l":"Install Tavern","p":["Install the latest NodeJS from https://nodejs.org/en/download/current","If you know how to use git, clone https://github.com/Cohee1207/SillyTavern. Otherwise, browse to https://github.com/Cohee1207/SillyTavern/releases, download the zip file containing the source code, then extract it locally.","Run Start.bat on Windows, or start.sh on OSX/Linux","Your browser should have opened to the Tavern UI. This webpage is running locally on your computer."]},{"l":"Get access to OpenAI","p":["Sign up to OpenAI","Go to https://platform.openai.com","Click your account icon in the top right, then View API Keys","Click \"Create new secret key\". Copy it somewhere immediately. DO NOT SHARE THIS KEY. WHOEVER HAS IT CAN USE YOUR ACCOUNT TO USE GPT AT YOUR EXPENSE.","While you're at it, join the GPT-4 waitlist at https://openai.com/waitlist/gpt-4-api"]},{"l":"Configure Tavern to use your API","p":["In Tavern's top bar, click API Connections","Under API, select OpenAI","Paste your API key you saved at the previous step","Click the Connect button. Confirm it says Valid.","By default, Tavern will use GPT 3.5 Turbo. If you have access to GPT-4, in Tavern's top bar, click AI Response Configuration at the far left, and change the OpenAI Model to \"gpt-4\". Enjoy the best, moneybags."]},{"l":"Test your setup","p":["In Tavern's top bar, click Character Management at the far right","Select an existing character such as Aqua","In the text box at the bottom, write something to Aqua, then press Enter or click the feather button","If you did everything right, after a few seconds, Aqua should respond"]},{"i":"how-do-i-use-poe-as-my-backend-its-free-right","l":"How do I use Poe as my backend? It's free, right?","p":["Yes, at the time of writing, Poe is a free(mium) service.","Create an account at https://poe.com. This gives you access to a Claude Instant version in the browser.","Open https://poe.com/Claude-instant, press F12 in your browser to open Developer Tools","Click on the Application tab. You should see an entry called \"p-b\", and to its right a password-like cookie value. Copy this value.","In Tavern, click API Connections in the top toolbar, select Poe, and paste your cookie value","Click Connect","Close your Poe browser tab. I'M SERIOUS, DO NOT KEEP YOUR BROWSER OPEN AT poe.com WHILE USING TAVERN, IT WILL HIJACK THE REPLIES.","The remaining steps are identical to OpenAI above.","When using Poe, be careful, it's implemented in a hacky way. If you don't get an answer within 30 seconds, restart Tavern. Don't just leave it running waiting for a response, it will just endlessly try to fetch into from Poe, and might get your account flagged. You can look at the Tavern console (black window) to see if it's looping."]},{"i":"q-can-i-use-tavern-on-my-phone-or-tablet","l":"Q: Can I use Tavern on my phone or tablet?","p":["iPhones and iPads are not capable of running the whole Tavern app, but since it's just a web interface, you can run it on another computer on your home wifi, and then access in your mobile browser. Refer to https://github.com/Cohee1207/SillyTavern#remote-connections","For Android users, in addition to the above, you can run the whole Tavern directly on your phone, without needing a PC, using the Termux app. Refer to https://rentry.org/STAI-Termux."]},{"i":"q-how-can-i-download-pre-made-characters-to-chat-with","l":"Q: How can I download pre-made characters to chat with?","p":["By using the various 3rd party character sharing websites.","WARNING: NSFW, NSFL: these sites are filled to the brim with weird shit. Like, you'll be lucky if half the characters aren't furry, or even alive. You're probably better off not clicking these links, and just write your own characters, without poisoning your soul by exposing it even for a second to the fucked up shit conceived by the Internet. However, I have come to learn that a significant amount of the Tavern user base is not only deep into this stuff, but their fried zoom-zoom brains are unable to write their own fantasies, so these sites seem to be quite popular. Against my better judgement I'm adding this info here.","https://characterhub.org","https://botprompts.net","https://booru.plus/+pygmalion","Those websites provide you with an image file (called a character card) that embeds the description as hidden data. Some websites may also allow you to download a JSON file. Tavern is capable of importing all formats. On the Character Management window, click the 2nd button to Import Character from file, and select the PNG, WEBP, or JSON file. The character will be added to your list."]},{"i":"q-how-can-i-write-my-own-character","l":"Q: How can I write my own character?","p":["It depends on the model/API you're using. KoboldAI seems to use a custom syntax, you can refer to their site for that.","I will speak for the services I know: GPT and Claude. With these services you can just use natural english language to describe the character. Let's create a very basic new character as an example.","Click the Character Management button","Click Create New Character","Under Character Name, give a simple name, like Amanda","Optionally, click the Select Avatar button to pick an image portrait for this character.","Under Description, describe the character, and include any information you want that you feel is relevant to the chat. For example: Amanda is a student traveling during her gap year. She's 6 feet tall, and a volleyball player. She has an athletic figure. She has long brown hair. She loves the Victorian England period, and watching TV and reading novels relating to that period. For example if you want Amanda to be friendly, then you would add: Amanda is extremely cheerful and outgoing.","Under First Message, write the greeting the character when you begin a new chat. For example: *Amanda waves at you* Hey! Are you a backpacker too?","Click the Create Character button","You now have a basic character you can chat with. Select Amanda from the character list, and a new chat will begin.","Note that you can use the Description and/or First Message to create a more specific scenario, and/or include yourself in the description. For example:","Any relevant information you include can be used. How well it's used depends on the power level of the AI model.","NOTE: you can go back and edit any of this information once the character is created, except the name."]},{"i":"q-tell-me-all-about-gpt-prompt-editing","l":"Q: Tell me all about GPT prompt editing","p":["You can change the system prompt that Tavern transparently sends to GPT under AI Response Formatting at the left of the top bar. This will result in the bot acting differently.","You can get new Jailbreak / NSFW prompts from this community-maintained list: https://rentry.org/GPTJailbreakPrompting","NOTE: when testing different system prompts, we recommend you use the Create Preset / Update Preset feature below the prompts, instead of modifying the base settings. This will allow you to change prompts easily, and even revert to the default Tavern prompts."]},{"i":"q-the-ai-is-refusing-to-take-the-story-in-the-direction-i-want","l":"Q: The AI is refusing to take the story in the direction I want","p":["Most AI models were trained to resist writing NSFW content. Why? Long story short, it's because of the high levels of estrogen in the average California male.","You can try to work around this by making sure NSFW Toggle is checked under the AI Response Configuration settings page.","Another important tool in your toolbelt is that Tavern lets you edit previous messages (or delete them altogether), and regenerate the latest message. AI textbots are not people, they have no memory, they're just trying to autocomplete the next part of the story based on everything that came before. By editing the past, you will directly influence their next response. For example:","You can click the Edit button on your line to change it to this:","Now click Regenerate, and the Bank Manager's line will be recreated based on the history so far, which now ends with your edited line above. So it's more likely to continue along those lines:"]},{"i":"where-can-i-find-the-old-backgrounds","l":"Where can I find the old backgrounds?","p":["We're moving to 100% original content only policy, so old background images have been removed from this repository.","You can find them archived here:","https://files.catbox.moe/1xevnc.zip"]},{"i":"where-are-my-api-keys-stored-why-cant-i-see-them","l":"Where are my API keys stored? Why can't I see them?","p":["SillyTavern saves your API keys to a secrets.json file in the server directory.","By default they will not be exposed to a frontend after you enter them and reload the page.","In order to enable viewing your keys by clicking a button in the API block:","Set the value of allowKeysExposure to true in config.conf file.","Restart the SillyTavern server."]},{"i":"why-is-the-ui-so-slowjittery","l":"Why is the UI so slow/jittery?","p":["Try enabling the No Blur Effect (Fast UI) mode on the User settings panel.","make sure your browser is using Hardware Acceleration."]}],[{"l":"HotKeys","p":["Hotkeys are disabled for mobile devices","Up = Edit last message in chat","Ctrl+Up = Edit last USER message in chat","Left = swipe left","Right = swipe right (NOTE: swipe hotkeys are disabled when chatbar has something typed into it)","Ctrl+Left = view locally stored variables (in the browser console window)","Enter (with chat bar selected) = send your message to AI","Ctrl+Enter = Regenerate the last AI response","Escape","(while editing message AND Message Edit AutoSave is enabled)= close edit box.","(while an AI message is generating or streaming)= stop the generation immediately."]}],[{"l":"How to Update SillyTavern","p":["This is not an installation guide. If you need installation instructions, look here: https://docs.alpindale.dev/pygmalion-extras/sillytavern/#installation","(This guide assumes you have already installed SillyTavern once and know how to run it on your OS.)","(A plain text copy of this file is also present inside SillyTavern's base install folder.)"]},{"i":"linuxtermux","l":"Linux/Termux","p":["You definitely installed via git, so just 'git pull' inside the SillyTavern directory."]},{"i":"windowsmacos","l":"Windows/MacOS"},{"i":"method-1---git","l":"Method 1 - GIT","p":["We always recommend users install using 'git'. Here's why:","When you have installed via 'git clone', all you have to do to update is type 'git pull' in a command line in the ST folder. Alternatively, if the command prompt gives you problems (and you have GitHub Desktop installed), you can use the 'Repository' menu and select 'Pull'. The updates are applied automatically and safely."]},{"i":"method-2---zip","l":"Method 2 - ZIP","p":["If you insist on installing via a zip, here is the tedious process for doing the update:","Download the new release zip.","Unzip it into a folder OUTSIDE of your current ST installation.","Do the usual setup procedure for your OS to install NodeJS requirements.","Copy the following files/folders as necessary(*) from your old ST installation:","(*) 'As necessary' = \"If you made any custom content related to those folders\". None of the folders are mandatory, so only copy what you need."]},{"i":"nb-do-not-copy-the-entire-public-folder","l":"NB: DO NOT COPY THE ENTIRE /PUBLIC/ FOLDER","p":["Doing so could break the new install and prevent new features from being present.","Once those folders/files are copied, Paste them into the /Public/ folder of the new install.","Start SillyTavern once again with the method appropriate to your OS, and pray you got it right.","If everything shows up, you can safely delete the old ST folder."]}],[{"l":"License and credits","p":["AI Horde client library by ZeldaFan0225: https://github.com/ZeldaFan0225/ai_horde","Cohee's modifications and derived code: AGPL v3","GraphQL files for poe: https://github.com/muharamdani/poe(ISC License)","Icon theme by Font Awesome https://fontawesome.com(Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)","KoboldAI Presets from KAI Lite: https://lite.koboldai.net/","Linux startup script by AlpinDale","Noto Sans font by Google (OFL license)","poe-api client adapted from https://github.com/ading2210/poe-api(GPL v3)","Portions of CncAnon's TavernAITurbo mod: Unknown license","RossAscends' additions: AGPL v3","See the GNU Affero General Public License for more details.","TAI Base by Humi: Unknown license","Thanks paniphons for providing a FAQ document","Thanks to oobabooga for compiling presets for TextGen","Thanks to Pygmalion University for being awesome testers and suggesting cool features!","This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.","TTS and Objective extensions by Ouoertheo","Waifu Mode inspired by the work of PepperTaco ( https://github.com/peppertaco/Tavern/)"]}],[{"l":"Remote connections","p":["Most often this is for people who want to use SillyTavern on their mobile phones while their PC runs the ST server on the same wifi network.","However, it can be used to allow remote connections from anywhere as well.","IMPORTANT: SillyTavern is a single-user program, so anyone who logs in will be able to see all characters and chats, and be able to change any settings inside the UI."]},{"l":"1. Managing whitelisted IPs","p":["Create a new text file inside your SillyTavern base install folder called whitelist.txt.","Open the file in a text editor, add a list of IPs you want to be allowed to connect.","Both indidivual IPs, and wildcard IP ranges are accepted. Examples:","or","(the above wildcard IP range will allow any device on the local network to connect)","CIDR masks are also accepted (eg. 10.0.0.0/24).","Save the whitelist.txt file.","Restart your TAI server.","Now devices which have the IP specified in the file will be able to connect.","Note: config.conf also has a whitelist array, which you can use in the same way, but this array will be ignored if whitelist.txt exists."]},{"l":"2. Getting the IP for the ST host machine","p":["After the whitelist has been setup, you'll need the IP of the ST-hosting device.","If the ST-hosting device is on the same wifi network, you will use the ST-host's internal wifi IP:","For Windows: windows button > type cmd.exe in the search bar > type ipconfig in the console, hit Enter > look for IPv4 listing.","If you (or someone else) wants to connect to your hosted ST while not being on the same network, you will need the public IP of your ST-hosting device.","While using the ST-hosting device, access this page and look for for IPv4. This is what you would use to connect from the remote device."]},{"l":"3. Connect the remote device to the ST host machine","p":["Whatever IP you ended up with for your situation, you will put that IP address and port number into the remote device's web browser.","A typical address for an ST host on the same wifi network would look like:","http://192.168.0.5:8000","Use http:// NOT https://"]},{"l":"Opening your ST to all IPs","p":["We do not recommend doing this, but you can open config.conf and change whitelist to false.","You must remove (or rename) whitelist.txt in the SillyTavern base install folder, if it exists.","This is usually an insecure practice, so we require you to set a username and password when you do this.","The username and password are set in config.conf.","After restarting your ST server, any device will be able to connect to it, regardless of their IP as long as they know the username and password."]},{"i":"still-unable-to-connect","l":"Still Unable To Connect?","p":["Create an inbound/outbound firewall rule for the port found in config.conf. Do NOT mistake this for portforwarding on your router, otherwise someone could find your chat logs and that's a big no-no.","Enable the Private Network profile type in Settings > Network and Internet > Ethernet. This is VERY important for Windows 11, otherwise you would be unable to connect even with the aforementioned firewall rules."]}],[{"l":"SillyTavern Guidebook","p":["This page contains descriptions for many of SillyTavern's features and core concepts."]},{"l":"Character Design"},{"l":"Character description","p":["Used to add the character description and the rest that the AI should know.","For example, you can add information about the world in which the action takes place and describe the characteristics for the character you are playing for.","Usually it all takes 200-350 tokens."]},{"l":"Methods and format","p":["For most Kobold's models the easiest way is to use a free form for description, and in each sentence it is desirable to specify the name of the character.","The entire description should be in one line without hyphenation.","For example:","Chloe is a female elf. Chloe wears black-white maid dress with green collar and red glasses. Chloe has medium length black hair. Chloe's personality is...","But that the AI would be less confused the best way is to use the W++ format.","Details here: Pro-Tips"]},{"l":"Character tokens","p":["TL;DR: If you're working with an AI model with a 2048 context token limit, your 1000 token character definition is cutting the AI's 'memory' in half.","To put this in perspective, a decent response from a good AI can easily be around 200-300 tokens. In this case, the AI would only be able to 'remember' about 3 exchanges worth of chat history."]},{"i":"why-did-my-characters-token-counter-turn-red","l":"Why did my character's token counter turn red?","p":["When we see your character has over 1000 tokens in its definitions, we highlight it for you because this can lower the AI's capabilities to provide an enjoyable conversation."]},{"i":"what-happens-if-my-character-has-too-many-tokens","l":"What happens if my Character has too many tokens?","p":["Don't worry - it won't break anything. At worst, if the Character's permanent tokens are too large, it simply means there will be less room left in the context for other things (see below).","The only negative side effect this can have is the AI will have less 'memory', as it will have less chat history available to process.","This is because every AI model has a limit to the amount of context it can process at one time."]},{"i":"context","l":"'Context'?","p":["This is the information that gets sent to the AI each time you ask it to generate a response:","Character definitions","Chat history","Author's Notes","Special Format strings","[bracket commands]","SillyTavern automatically calculates the best way to allocate the available context tokens before sending the information to the AI model."]},{"i":"what-are-a-characters-permanent-tokens","l":"What are a Character's 'Permanent Tokens'?","p":["These will always be sent to the AI with every generation request:","Character Name (keep the name short! Sent at the start of EVERY Character message)","Character Description Box","Character Personality Box","Scenario Box"]},{"i":"what-parts-of-a-characters-definitions-are-not-permanent","l":"What parts of a Character's Definitions are NOT permanent?","p":["The first message box - only sent once at the start of the chat.","Example messages box - only kept until chat history fills up the context (optionally these can be forced to be kept in context)"]},{"l":"Popular AI Model Context Token Limits","p":["Older models below 6B parameters - 1024","Pygmalion 6B - 2048","Poe.com (Claude-instant or ChatGPT) - 2048","OpenAI ChatGPT - 4000-ish?","OpenAI GPT-4 - 8000?"]},{"l":"Personality summary","p":["A brief description of the personality. It is added to the chat at a depth of 8-15 messages, so it has a significant impact on the character.","Example:","Cheerful, cunning, provocative","Another example:","Aqua likes to do nothing and also likes to get drunk","In Pygmalion model, it is used as a \"Personality:\" prompt section"]},{"l":"First message","p":["The First Message is an important thing that sets exactly how and in what style the character will communicate.","It is desirable that the character's first message be long, so that later it would be less likely that the character would respond in with very short messages.","You can also use asterisks ** to describe the character's actions.","For example:","*I noticed you came inside, I walked up and stood right in front of you* Welcome. I'm glad to see you here. *I said with toothy smug sunny smile looking you straight in the eye* What brings you..."]},{"l":"Examples of dialogue","p":["Describes how the character speaks. Before each example, you need to add the < START> tag. Use instead of the character name. Use instead of the user name.","Example:"]},{"l":"Scenario","p":["Circumstances and context of the dialogue."]},{"l":"Replacement tags","p":["A list of tags that are replaced when sending to generate:","and < USER> are replaced by the User's Name","and < BOT> are replaced by the Character's Name","is replaced with the current system time.","{now: , add_days: , add_months: , add_years: , add_hours: , add_minutes: , add_seconds: , add_milliseconds: , parse: , default_format: \"%d %b %Y\", format: \"%d %b %Y\", to_string: } is replaced with the current system date."]},{"l":"Favorite Character","p":["Mark character as favorite to quickly filter on the side menu bar by pressing the star button."]},{"l":"World Info","p":["World Info enhances AI's understanding of the details in your world.","It functions like a dynamic dictionary that only inserts relevant information from World Info entries when keywords associated with the entries are present in the message text.","The SillyTavern engine activates and seamlessly integrates the appropriate lore into the prompt, providing background information to the AI.","It is important to note that while World Info helps guide the AI towards your desired lore, it does not guarantee its appearance in the generated output messages."]},{"l":"Pro Tips","p":["The AI does not insert keywords into context, so each World Info entry should be a comprehensive, standalone description.","To create a rich and detailed world lore, entries can be interlinked and reference one another.","To conserve tokens, it is advisable to keep entry contents concise, with a general recommended limit of 50 tokens per entry."]},{"l":"World Info Entry"},{"l":"Key","p":["A list of keywords that trigger the activation of a World Info entry. Keys are not case-sensitive by default (this is configurable)."]},{"l":"Secondary Key","p":["A list of supplementary keywords that are used in conjunction with the main keywords. See Selective."]},{"l":"Entry Content","p":["The text that is inserted into the prompt upon entry activation."]},{"l":"Insertion Order","p":["Numeric value. Defines a priority of the entry if multiple were activated at once. Entries with higher order number will be inserted closer to the end of the context as they will have more impact on the output."]},{"l":"Insertion Position","p":["Before Chara: World Info entry is inserted before the character's description and scenario. Has moderate impact on the conversation.","After Chara: World Info entry is inserted after the character's description and scenario. Has greater impact on the conversation."]},{"l":"Comment","p":["A supplemental text comment for your convenience, which is not utilized by the AI."]},{"l":"Constant","p":["If enabled, the entry would always be present in the prompt."]},{"l":"Selective","p":["If enabled, the entry would only be inserted when both a Key AND a Secondary Key have been activated.","If no secondary keys provided, this flag is ignored."]},{"l":"Scan Depth","p":["Defines how many messages in the chat history should be scanned for World Info keys.","If set to 1, then SillyTavern only scans the message you send and the most recent reply.","This stacks up to 10 message pairs it total."]},{"l":"Budget","p":["Defines how many tokens could be used by World Info entries at once.","If the budget was exhausted, then no more entries are activated even if the keys are present in the prompt.","Constant entries will be inserted first. Then entries with higher order numbers.","Entries inserted by direct mentioning of their keys have higher priority than those that were mentioned in other entries contents."]},{"l":"Recursive scanning","p":["Entries can activate other entries by mentioning their keywords in the content text.","For example, if your World Info contains two entries:","Both of them will be pulled into the context if the message text mentions just Bessie."]},{"l":"Case-sensitive keys","p":["To get pulled into the context, entry keys need to match the case as they are defined in the World Info entry.","This is useful when your keys are common words or parts of common words.","For example, when this setting is active, keys 'rose' and 'Rose' will be treated differently, depending on the inputs."]},{"l":"Horde","p":["Horde is a distributed GPU cluster run entirely by volunteers. Your inputs are always anonymous, and prompts are not visible to the workers by default.","However, malicious agents could modify the open-source bridging software to log your activity or produce bad responses. So, when using Horde, avoid sending any personal information such as names, email addresses, etc.","If you encounter any abnormal activity, switch on the \"Trusted Workers Only\" checkbox and report it to the KoboldAI Discord."]},{"l":"KoboldAI"},{"l":"Basic Settings","p":["Standard KoboldAI settings files are used here. To add your own settings, simply add the file .settings in SillyTavern\\public\\KoboldAI Settings"]},{"l":"Temperature","p":["Value from 0.1 to 2.0. Lower value - the answers are more logical, but less creative. Higher value - the answers are more creative, but less logical."]},{"l":"Repetition penalty","p":["Repetition penalty is responsible for the penalty of repeated words. If the character is fixated on something or repeats the same phrase, then increasing this parameter will fix it. It is not recommended to increase this parameter too much for the chat format, as it may break this format. The standard value for chat is approximately 1.0 - 1.05."]},{"l":"Repetition penalty range","p":["The range of influence of Repetition penalty in tokens."]},{"l":"Amount generation","p":["The maximum amount of tokens that the AI will generate to respond. One word is approximately 3-4 tokens. The larger the parameter value, the longer the generation time takes."]},{"l":"Context size","p":["How much will the AI remember. Context size also affects the speed of generation.","Important: The setting of Context Size in SillyTavern GUI overrides the setting for KoboldAI GUI"]},{"l":"Advanced Settings","p":["The settings provided in this section offer a more detailed level of control over the text generation process. It is important to be careful when making changes to these settings without proper consideration, as doing so may result in degraded quality of responses."]},{"l":"Single-line mode","p":["In single-line mode the AI generates only one line per request. This allows for quicker generation of shorter prompts, but it does not produce responses that consist of more than one line."]},{"l":"Top P Sampling","p":["This setting controls how much of the text generated is based on the most likely options. Only words with the highest probabilities, together summing up to P, are considered. A word is then chosen at random, with a higher chance of selecting words with higher probabilities.","Set value to 1 to disable its effect."]},{"l":"Top K Sampling","p":["This setting limits the number of words to choose from to the top K most likely options. Can be used together with Top P sampling.","Set value to 0 to disable its effect."]},{"l":"Top A Sampling","p":["This setting allows for a more flexible version of sampling, where the number of words chosen from the most likely options is automatically determined based on the likelihood distribution of the options, but instead of choosing the top P or K words, it chooses all words with probabilities above a certain threshold.","Set value to 0 to disable its effect."]},{"l":"Typical Sampling","p":["This setting selects words randomly from the list of possible words, with each word having an equal chance of being selected. This method can produce text that is more diverse but may also be less coherent.","Set value to 1 to disable its effect."]},{"l":"Tail Free Sampling","p":["This setting removes the least probable words from consideration during text generation, which can improve the quality and coherence of the generated text.","Set value to 1 to disable its effect."]},{"l":"Repetition Penalty Slope","p":["If both this and Repetition Penalty Range are above 0, then repetition penalty will have more effect closer to the end of the prompt. The higher the value, the stronger the effect.","Set value to 1 for linear interpolation or 0 to disable interpolation."]},{"l":"Soft Prompts","p":["Soft Prompts allow you to customize the style and behavior of your AI.","They are created by training the AI with a special type of prompt using a collection of input data. Experimenting with different soft prompts can lead to exciting and unique results. The most successful soft prompts are those that align the AI's output with a literary genre, fictional universe, or the style of a particular author."]},{"l":"Common Misconceptions","p":["Soft prompts do not provide new information to the model, but can effectively influence the model's tone, word choice, and formatting.","Soft prompts are not a means of compressing a full prompt into a limited token space. Instead, they provide a way to guide the language model's output through data in the context."]},{"l":"NovelAI"},{"l":"API Key","p":["To get a NovelAI API key, follow these instructions:","Go to the NovelAI website and Login.","Create a new story, or open an existing story.","Open the Network Tools on your web browser. (For Chrome or Firefox, you do this by pressing Ctrl+Shift+I, then switching to the Network tab.)","Generate something. You should see two requests to api.novelai.net/ai/generate-stream, which might look something like this:","1.png","Select the second request, then in the Headers tab of the inspection panel, scroll down to the very bottom. Look for a header called Authorization:","2.png","The long string (after \"Bearer\", not including it) is your API key.","Proxies and Cloudflare-type services may interfere with connection."]},{"l":"Settings","p":["The files with the settings are here (SillyTavern\\public\\NovelAI Settings). You can also manually add your own settings files."]},{"i":"temperature-1","l":"Temperature","p":["Value from 0.1 to 2.0","Lower value - the answers are more logical, but less creative.","Higher value - the answers are more creative, but less logical."]},{"i":"repetition-penalty-1","l":"Repetition penalty","p":["Repetition penalty is responsible for the penalty of repeated words. If the character is fixated on something or repeats the same phrase, then increasing this parameter will fix it. It is not recommended to increase this parameter too much for the chat format, as it may break this format.","The standard value for chat is approximately 1.0 - 1.05"]},{"i":"repetition-penalty-range-1","l":"Repetition penalty range","p":["The range of influence of Repetition penalty in tokens."]},{"l":"Models","p":["If your subscription tier is Paper, Tablet or Scroll use only Euterpe model otherwise you can not get an answer from NovelAI API."]},{"l":"OpenAI"},{"i":"api-key-1","l":"API key","p":["How to get:","Go to OpenAI and sign in.","Use \" View API keys\" option to create a new API key.","Important!","Lost API keys can't be restored! Make sure to keep it safe!"]},{"i":"windowai","l":"Window.ai","p":["You can use Window.ai browser extension to access AI models with SillyTavern.","Install a browser extension from: windowai.io","Select OpenAI in SillyTavern's Connection panel and check the \"Use Window.ai\" option.","Use the extension to pick which API to connect to.","Don't have OpenAI / Claude API access? Use OpenRouter.","Create an OpenRouter account: openrouter.ai","Select OpenRouter as a provider in Window.ai extension.","OpenRouter works by letting you use keys that they own. It has a free trial, and paid access afterwards."]},{"l":"Poe"},{"i":"api-key-2","l":"API key","p":["How to get your access token / cookie:","Login to poe.com","Open browser DevTools (F12) and navigate to \"Application\" tab.","Type any message into the poe.com chat, and get a response from the AI.","Find the 'Cookie' section on the left side of Dev Tools 'Application' tab, expand it","Click \" http://poe.com/\" listing inside the Cookies section.","Look to the right for the listing of p-b and copy its Value.","Paste the cookie value into the Poe API connection URL box, and click \"Connect\".","Select a character and start chatting"]},{"l":"Anchors","p":["This feature is considered obsolete and has been removed.","The use of the Author's Note extension is now a preferred way to add prompt injections of variable depth."]},{"l":"Instruct Mode","p":["Instruct Mode allows you to adjust the prompting for instruction-following models, such as Alpaca, Metharme, WizardLM, etc.","This is not supported for OpenAI API."]},{"l":"Instruct Mode Settings"},{"l":"System Prompt","p":["Added to the beginning of each prompt. Should define the instructions for the model to follow.","For example:"]},{"l":"Presets","p":["Provides ready-made presets with prompts and sequences for some well-known instruct models.","Changing a preset resets your system prompt to default!"]},{"l":"Input Sequence","p":["Text added before the user's input."]},{"l":"Output Sequence","p":["Text added before the character's reply."]},{"l":"System Sequence","p":["Text added before the system prompt."]},{"l":"Separator Sequence","p":["Text added after the character reply to separate the chat history logs."]},{"l":"Stop Sequence","p":["Text that denotes the end of the reply. Will be trimmed from the output text."]},{"l":"Include Names","p":["If enabled, prepend character and user names to chat history logs after inserting the sequences.","Always enabled for group chats!"]},{"l":"Wrap Sequences with Newline","p":["Each sequence text will be wrapped with newline characters when inserted to the prompt. Required for Alpaca and its derivatives."]},{"l":"Chat import","p":["Import chats into SillyTavern","To import Character.AI chats, use this tool: https://github.com/0x000011b/characterai-dumper."]},{"l":"Tokenizer","p":["Important: This section doesn't apply to OpenAI API. SillyTavern will always use a matching tokenizer for OpenAI models.","A tokenizer is a tool that breaks down a piece of text into smaller units called tokens. These tokens can be individual words or even parts of words, such as prefixes, suffixes, or punctuation. A rule of thumb is that one token generally corresponds to 3~ 4 characters of text.","SillyTavern can use the following tokenizers while forming a request to the AI backend:","None. Each token is estimated to be ~ 3.3 characters, rounded up to the nearest integer. Try this if your prompts get cut off on high context lengths. This approach is used by KoboldAI Lite.","GPT-3 tokenizer. Use to get more accurate counts on OpenAI character cards. Can be previewed here: OpenAI Tokenizer.","(Legacy) GPT-2/3 tokenizer. Used by original TavernAI. Pick this if you're unsure. More info: gpt-2-3-tokenizer.","Sentencepiece tokenizer. Used by LLaMA model family: Alpaca, Vicuna, Koala, etc. Pick if you use a LLaMA model."]},{"l":"Token Padding","p":["Important: This section doesn't apply to OpenAI API. SillyTavern will always use a matching tokenizer for OpenAI models.","SillyTavern cannot use a proper tokenizer provided by the model running on a remote instance of KoboldAI or Oobabooga's TextGen, so all token counts assumed during prompt generation are estimated based on the selected tokenizer type.","Since the results of tokenization can be inaccurate on context sizes close to the model-defined maximum, some parts of the prompt may be trimmed or dropped, which may negatively affect the coherence of character definitions.","To prevent this, SillyTavern allocates a portion of the context size as padding to avoid adding more chat items than the model can accommodate. If you find that some part of the prompt is trimmed even with the most-matching tokenizer selected, adjust the padding so the description is not truncated.","You can input negative values for reverse padding, which allows allocating more than the set maximum amount of tokens."]},{"l":"Advanced Formatting","p":["The settings provided in this section allow for more control over the prompt building strategy. Most specifics of the prompt building depend on whether a Pygmalion model is selected or special formatting is force-enabled. The core differences between the formatting schemas are listed below."]},{"l":"Custom Chat Separator","p":["Overrides the default separators controlled by \"Disable example chats formatting\" and \"Disable chat start formatting\" options (see below)."]},{"l":"For Pygmalion formatting"},{"l":"Disable description formatting","p":["**NAME's Persona:** won't be prepended to the content of your character's Description box."]},{"l":"Disable scenario formatting","p":["**Scenario:** won't be prepended to the content of your character's Scenario box."]},{"l":"Disable personality formatting","p":["**Personality:** won't be prepended to the content of your character's Personality box."]},{"l":"Disable example chats formatting","p":["START won't be added at the beginning of each example message block.(If custom separator is not set)"]},{"l":"Disable chat start formatting","p":["START won't be added between the character card and the chat log.(If custom separator is not set)"]},{"i":"always-add-characters-name-to-prompt","l":"Always add character's name to prompt","p":["Doesn't do anything (Included in Pygmalion formatting)."]},{"l":"For non-Pygmalion formatting"},{"i":"disable-description-formatting-1","l":"Disable description formatting","p":["Has no effect."]},{"i":"disable-scenario-formatting-1","l":"Disable scenario formatting","p":["**Circumstances and context of the dialogue:** won't be prepended to the content of your character's Scenario box."]},{"i":"disable-personality-formatting-1","l":"Disable personality formatting","p":["**NAME's personality:** won't be prepended to the content of your character's Personality box."]},{"i":"disable-example-chats-formatting-1","l":"Disable example chats formatting","p":["This is how **Character** should talk won't be added at the beginning of each example message block.(If custom separator is not set)"]},{"i":"disable-chat-start-formatting-1","l":"Disable chat start formatting","p":["Then the roleplay chat between **User** and **Character** begins won't be added between the character card and the chat log.(If custom separator is not set)"]},{"i":"always-add-characters-name-to-prompt-1","l":"Always add character's name to prompt","p":["Appends character's name to the prompt to force the model to complete the message as the character:"]},{"l":"Group Chats"},{"l":"Reply order strategies","p":["Decides how characters in group chats are drafted for their replies."]},{"l":"Natural order","p":["Tries to simulate the flow of a real human conversation. The algorithm is as follows:","Mentions of the group member names are extracted from the last message in chat.","Only whole words are recognized as mentions! If your character's name is \"Misaka Mikoto\", they will reply only activate on \"Misaka\" or \"Mikoto\", but never to \"Misa\", \"Railgun\", etc.","Unless \"Allow bot responses to self\" setting is enabled, characters won't reply to mentions of their name in their own message!","Characters are activated by the \"Talkativeness\" factor.","Talkativeness defines how often the character speaks if they were not mentioned. Adjust this value on \"Advanced definitions\" screen in character editor. Slider values are on a linear scale from 0% / Shy(character never talks unless mentioned) to 100% / Chatty(character always replies). Default value for new characters is 50% chance.","Random character is selected.","If no characters were activated at previous steps, one speaker is selected randomly, ignoring all other conditions."]},{"l":"List order","p":["Characters are drafted based on the order they are presented in group members list. No other rules apply."]},{"l":"Multigen","p":["This feature provides a pseudo-streaming functionality which conflicts with token streaming. When Multigen is enabled and generation API supports streaming, only Multigen streaming will be used.","SillyTavern tries to create faster and longer responses by chaining the generation using smaller batches."]},{"l":"Default settings","p":["First batch = 50 tokens","Next batches = 30 tokens"]},{"l":"Algorithm","p":["Generate the first batch (if amount of generation setting is more than batch length).","Generate next batch of tokens until one of the stopping conditions is reached.","Append the generated text to the next cycle's prompt."]},{"l":"Stopping conditions","p":["Generated enough text.","Character starts speaking for You.","<|endoftext|> token reached.","No text generated.","Stop sequence generated. (Instruct mode only)"]},{"l":"User Settings"},{"l":"Message Sound","p":["To play your own custom sound on receiving a new message from bot, replace the following MP3 file in your SillyTavern folder:","public/sounds/message.mp3","Plays at 80% volume.","If \"Background Sound Only\" option is enabled, the sound plays only if SillyTavern window is unfocused."]},{"l":"Formulas Rendering","p":["Enables math formulas rendering using the showdown-katex package.","The following formatting rules are supported:"]},{"l":"LaTeX syntax"},{"l":"Asciimath syntax","p":["More information: KaTeX"]}]]